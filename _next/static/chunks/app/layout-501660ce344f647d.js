(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{3231:function(e,t,r){Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,5707)),Promise.resolve().then(r.bind(r,2483)),Promise.resolve().then(r.bind(r,2094)),Promise.resolve().then(r.bind(r,9791)),Promise.resolve().then(r.bind(r,9827)),Promise.resolve().then(r.bind(r,4147)),Promise.resolve().then(r.bind(r,2868)),Promise.resolve().then(r.bind(r,7026)),Promise.resolve().then(r.bind(r,1770)),Promise.resolve().then(r.bind(r,6451)),Promise.resolve().then(r.bind(r,8164)),Promise.resolve().then(r.bind(r,1632)),Promise.resolve().then(r.bind(r,3244)),Promise.resolve().then(r.bind(r,7985)),Promise.resolve().then(r.bind(r,7984)),Promise.resolve().then(r.bind(r,1896))},5707:function(e,t,r){"use strict";r.d(t,{default:function(){return c}});var n=r(7437),l=r(2265),i=r(3145),s=r(2483);let a=e=>{let t=String(e%60).padStart(2,"0");return"".concat(Math.floor(e/60),":").concat(t)},o=e=>{let t=e.match(/PT(?:(\d+)M)?(?:(\d+)S)?/);return 60*((null==t?void 0:t[1])?parseInt(t[1]):0)+((null==t?void 0:t[2])?parseInt(t[2]):0)};var u=e=>{let{duration:t,isPlaying:r,onEnded:i}=e,[s,u]=(0,l.useState)(()=>o(t)),c=(0,l.useRef)(null);return(0,l.useEffect)(()=>{u(o(t))},[t]),(0,l.useEffect)(()=>(c.current&&clearInterval(c.current),r&&(c.current=setInterval(()=>{u(e=>e<=1?(clearInterval(c.current),i(),0):e-1)},1e3)),()=>{c.current&&clearInterval(c.current)}),[r,i]),(0,n.jsx)("div",{className:"text-white text-xs",children:a(s)})},c=()=>{let{currentTrack:e,detailData:t,onNextTrack:r,onPrevTrack:a}=(0,s.Z)(),[o,c]=(0,l.useState)(!1),d=(0,l.useRef)(0),v=(0,l.useRef)(null),m=(0,l.useRef)(null);return(0,l.useEffect)(()=>{let e;let t=()=>{d.current=(d.current+1)%360,v.current&&(v.current.style.transform="rotate(".concat(d.current,"deg)")),e=requestAnimationFrame(t)};return o&&(e=requestAnimationFrame(t)),()=>{cancelAnimationFrame(e)}},[o]),(0,l.useEffect)(()=>{let t=()=>{m.current=new YT.Player("youtube-player",{height:"0",width:"0",videoId:null==e?void 0:e.snippet.resourceId.videoId,playerVars:{autoplay:0,controls:0,loop:1,playlist:null==e?void 0:e.snippet.resourceId.videoId},events:{onReady:e=>{o&&e.target.playVideo()}}})};if(window.YT)t();else{let e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";let r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r),window.onYouTubeIframeAPIReady=t}return()=>{m.current&&m.current.destroy&&m.current.destroy()}},[null==e?void 0:e.snippet.resourceId.videoId]),(0,n.jsxs)("div",{className:"fixed top-0 left-0 z-10 flex flex-col items-center justify-center pt-4 pl-4",children:[(0,n.jsxs)("div",{className:"w-[150px] h-[150px] relative",children:[(0,n.jsx)(i.default,{src:"/images/LP.png",alt:"LP Background",fill:!0,priority:!0,sizes:"200px",className:"w-full h-full object-cover"}),(0,n.jsx)("div",{ref:v,className:"absolute inset-0 rounded-full",style:{backgroundImage:"url('".concat(null==e?void 0:e.snippet.thumbnails.maxres.url,"')"),backgroundSize:"cover",backgroundPosition:"center",opacity:.97,maskImage:"radial-gradient(circle at center, transparent 20%, black 22%, black 58%, transparent 60%)",WebkitMaskImage:"radial-gradient(circle at center, transparent 20%, black 22%, black 58%, transparent 60%)"}})]}),(0,n.jsx)("div",{className:"mt-1 text-center text-white font-semibold text-lg",children:null==e?void 0:e.snippet.title}),(0,n.jsx)(u,{duration:(null==t?void 0:t.duration)||":",isPlaying:o,onEnded:r}),(0,n.jsxs)("div",{className:"mt-2 flex flex-row gap-4 items-center justify-center",children:[(0,n.jsx)("button",{type:"button",onClick:a,"aria-label":"이전으로 버튼",children:"⏪️"}),(0,n.jsx)("button",{type:"button",onClick:()=>{c(e=>{var t,r;let n=!e;return n?null===(t=m.current)||void 0===t||t.playVideo():null===(r=m.current)||void 0===r||r.pauseVideo(),n})},"aria-label":o?"일시정지버튼":"재생버튼",children:o?"⏸️":"▶️"}),(0,n.jsx)("button",{type:"button",onClick:r,"aria-label":"다음으로 버튼",children:"⏩️"})]}),(0,n.jsx)("div",{id:"youtube-player","aria-hidden":!0})]})}},2483:function(e,t,r){"use strict";r.d(t,{Z:function(){return m},getPlayList:function(){return v}});var n=r(2265),l=r(1632),i=r(3464);let s=r(257).env.NEXT_PUBLIC_YOUTUBE_API_URL,a=i.Z.create({baseURL:s,headers:{"Content-Type":"application/json"}});a.interceptors.response.use(e=>e,e=>(console.error("HTTP Error:",e),Promise.reject(e)));let o=async(e,t)=>{try{return(await a.get(e,{params:t})).data}catch(e){return console.error("GET Error:",e),Promise.reject(e)}};var u=r(257),c=e=>{var t,r;let{data:n,...i}=(0,l.useQuery)({queryKey:["getCurrentTrack",e],queryFn:async()=>await o("/videos",{part:"contentDetails",id:e,key:u.env.NEXT_PUBLIC_YOUTUBE_API_KEY}),enabled:void 0!=e,staleTime:3e5});return{data:null==n?void 0:null===(r=n.items)||void 0===r?void 0:null===(t=r[0])||void 0===t?void 0:t.contentDetails,...i}},d=r(257);let v=async()=>await o("/playlistItems",{part:"snippet",playlistId:"PLguEu5wPVUEhQZ3g7j3fo1bk0G5fBbu4o",maxResults:50,key:d.env.NEXT_PUBLIC_YOUTUBE_API_KEY});var m=()=>{var e;let[t,r]=(0,n.useState)(0),{data:i}=(0,l.useQuery)({queryKey:["getPlaylist"],queryFn:v,staleTime:3e5}),s=null==i?void 0:null===(e=i.items)||void 0===e?void 0:e[t],{data:a}=c((null==s?void 0:s.snippet.resourceId.videoId)||""),o=(0,n.useCallback)(()=>{r(e=>(null==i?void 0:i.items)?(e+1)%i.items.length:0)},[null==i?void 0:i.items]);return{currentTrack:s,detailData:a,onPrevTrack:(0,n.useCallback)(()=>{r(e=>(null==i?void 0:i.items)?(e-1+i.items.length)%i.items.length:0)},[null==i?void 0:i.items]),onNextTrack:o}}},1896:function(e,t,r){"use strict";var n=r(7437),l=r(2265),i=r(4114),s=r(9827);t.default=e=>{let{children:t}=e,[r]=(0,l.useState)(()=>new i.S);return(0,n.jsx)(s.QueryClientProvider,{client:r,children:t})}},7960:function(){}},function(e){e.O(0,[587,145,592,971,117,744],function(){return e(e.s=3231)}),_N_E=e.O()}]);